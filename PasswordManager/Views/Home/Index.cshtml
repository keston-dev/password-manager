@model List<Account>

@{
  Account? activeAccount = Model.FirstOrDefault(a => a.AccountId == ViewBag.ActiveUser);
}
@section Sidebar {
  <div class="flex flex-col w-full h-full relative">

    <div class="px-4 pt-5 pb-3">
      <p class="text-xs font-semibold uppercase tracking-widest text-zinc-500">Users</p>
    </div>

    <div class="flex flex-col flex-1 overflow-y-auto">
      @foreach (Account account in @Model) {
        <a class="group flex items-center gap-3 px-4 py-4 border-b border-zinc-700/50 hover:bg-zinc-700/60 transition-all duration-200 cursor-pointer"
            asp-route-id="@account.AccountId"
            asp-action="Index">

          <div class="flex flex-col min-w-0">
            <p class="text-sm font-semibold text-white truncate">@account.Username</p>
            <span class="text-xs text-zinc-500">
              <span class="mt-1 inline-block bg-zinc-700 text-zinc-300 rounded-full px-2 py-0.5 text-xs font-medium">
                @account.Entries.Count @(account.Entries.Count == 1 ? "entry" : "entries")
              </span>
            </span>
          </div>

        </a>
      }
    </div>

    <div class="p-4 border-t border-zinc-700/50">
      <button class="w-full flex items-center justify-center gap-2 bg-purple-700 hover:bg-purple-600 active:scale-95 transition-all duration-150 text-white text-sm font-semibold rounded-lg py-3 px-4">
        Create New User
      </button>
    </div>

  </div>
}

<form class="w-full bg-zinc-900 h-full text-white p-10 flex flex-col items-center justify-center rounded-xl" asp-action="Login" asp-controller="Home" method="post">
    <input type="hidden" name="id" value="@ViewBag.ActiveUser" />
    @if (activeAccount != null) {
      <div class="w-full max-w-md flex flex-col gap-6">

        <div class="flex flex-col items-center gap-3 text-center">
          <div>
            <p class="text-2xl font-bold text-white">Welcome back</p>
            <p class="text-zinc-400 text-sm mt-1">Logging in as <span class="text-purple-400 font-semibold">@activeAccount.Username</span></p>
          </div>
        </div>

        <div class="flex flex-col gap-2">
          <label class="text-xs font-semibold uppercase tracking-widest text-zinc-500" for="master-password-input">
            Password
          </label>
          <input
            id="master-password-input"
            type="password"
            placeholder="..."
            class="bg-zinc-800 border border-zinc-700 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 rounded-xl px-4 py-3 text-white placeholder-zinc-600 text-sm transition-all duration-200 outline-none w-full"
            name="password"
          />
          <p class="text-red-500">  @TempData["Errors"]</p>
        </div>

        <button class="w-full bg-purple-700 hover:bg-purple-600 active:scale-95 transition-all duration-150 text-white font-semibold rounded-xl py-3" type="submit">
          Login
        </button>

      </div>
    } else {

      <div class="flex flex-col items-center gap-4 text-center text-zinc-600">
        <p class="">Select a user from the sidebar to log in.</p>
      </div>

    }
</form>